<!doctype html>
<html>
<head>
    <title>阶段报告</title>
    <meta charset='utf-8' />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
    <meta http-equiv="x-dns-prefetch-control" content="on" />
    <meta name="format-detection"content="telephone=no"/>
    <meta name="format-detection" content="email=no"/>
    <link rel="stylesheet" type="text/css" href="css/bootstraptc.min.css">
    <link rel="stylesheet" type="text/css" href="css/ppublic.css">

    <style type="text/css">
        #canvas1{
            background: #3acfd1;
        }

        #canvas2{
            background: #d13acc;
        }
    </style>
</head>
<body>
<canvas id="canvas1" width="200" height="100"></canvas>
<canvas id="canvas2" width="200" height="100"></canvas>
</body>
<script type="text/javascript" src="js/jquery-3.0.0.min.js"></script>
<script type="text/javascript" src="js/public.js"></script>
<script>
    $(function(){

        var finalUrl=ajaxLink +"/v1/api/campGoods/getGoodsInfo?id=42";
        $('#canvas2').on('click',function(){
            $.ajax({
                type: "get",
                url: finalUrl,
                dataType:"json",
                success:function(data){
                    alert(1);
                    console.log(data);
                    fun();
                },
                error:function(error){
                    alert(2);
                    console.log(error);
                    fun();
                }
            });
        });
    });

    function fun(){
        console.log('hello'+data);//外部的data会报错！
    }

</script>
</html>